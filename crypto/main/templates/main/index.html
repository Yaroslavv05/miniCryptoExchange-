{% extends 'base.html' %}
{% block CONTENT %}
<div style="width: 800px; height: 400px">
    <canvas id="myChart"></canvas>
</div>

<script>
		function updateElement() {
        $.ajax({
            url: "",
            success: function(data) {
            	console.log(data.data)
                var ctx = document.getElementById('myChart').getContext('2d');
                var myChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: data.data_len,
                        datasets: [{
                            label: 'Bitcoin Price',
                            data: data.data,
                            borderColor: 'rgb(255, 99, 132)',
                            fill: false
                        }]
                    },
                    options: {
    responsive: true,
    plugins: {
      title: {
        display: true,
        text: 'Min and Max Settings'
      }
    },
    scales: {
      y: {
        min: data.min_data,
        max: data.max_data,
      },
    }
  },

    });



            }
        });
    }

    setInterval(updateElement, 1000 * 3); // Call updateElement every 3 minutes

</script>
<!--    <style>-->
<!--      table {-->
<!--        border-collapse: collapse;-->
<!--        width: 100%;-->
<!--      }-->
<!--      th, td {-->
<!--        text-align: left;-->
<!--        padding: 8px;-->
<!--      }-->
<!--      th {-->
<!--        background-color: #4CAF50;-->
<!--        color: white;-->
<!--      }-->
<!--      tr:nth-child(even) {-->
<!--        background-color: #f2f2f2;-->
<!--      }-->
<!--    </style>-->
<!--<h1>Top 8 Cryptocurrencies</h1>-->
<!--    <table>-->
<!--      <tr>-->
<!--        <th>Rank</th>-->
<!--        <th>Name</th>-->
<!--        <th>Symbol</th>-->
<!--        <th>Market Cap</th>-->
<!--        <th>Price</th>-->
<!--        <th>Change (24h)</th>-->
<!--      </tr>-->
<!--      <tr>-->
<!--        <td>1</td>-->
<!--        <td>Bitcoin</td>-->
<!--        <td>BTC</td>-->
<!--        <td>$1.04T</td>-->
<!--        <td>${{ data.prises.BTCUSDT }}</td>-->
<!--        <td>+2.05%</td>-->
<!--      </tr>-->
<!--      <tr>-->
<!--        <td>2</td>-->
<!--        <td>Ethereum</td>-->
<!--        <td>ETH</td>-->
<!--        <td>$200B</td>-->
<!--        <td>$1,500</td>-->
<!--        <td>+3.50%</td>-->
<!--      </tr>-->
<!--      <tr>-->
<!--        <td>3</td>-->
<!--        <td>Binance Coin</td>-->
<!--        <td>BNB</td>-->
<!--        <td>$70B</td>-->
<!--        <td>$460</td>-->
<!--        <td>+4.75%</td>-->
<!--      </tr>-->
<!--      <tr>-->
<!--        <td>4</td>-->
<!--        <td>Tether</td>-->
<!--        <td>USDT</td>-->
<!--        <td>$41B</td>-->
<!--        <td>$1.00</td>-->
<!--        <td>-0.01%</td>-->
<!--      </tr>-->
<!--      <tr>-->
<!--        <td>5</td>-->
<!--        <td>Cardano</td>-->
<!--        <td>ADA</td>-->
<!--        <td>$39B</td>-->
<!--        <td>$1.20</td>-->
<!--        <td>+1.75%</td>-->
<!--      </tr>-->
<!--      <tr>-->
<!--        <td>6</td>-->
<!--        <td>XRP</td>-->
<!--        <td>XRP</td>-->
<!--        <td>$25B</td>-->
<!--        <td>$0.50</td>-->
<!--        <td>+2.15%</td>-->
<!--      </tr>-->
<!--      <tr>-->
<!--        <td>7</td>-->
<!--        <td>Polkadot</td>-->
<!--        <td>DOT</td>-->
<!--        <td>$25B</td>-->
<!--        <td>$25.00</td>-->
<!--        <td>+1.80%</td>-->
<!--      </tr>-->
<!--      <tr>-->
<!--        <td>8</td>-->
<!--        <td>Uniswap</td>-->
<!--        <td>UNI</td>-->
<!--        <td>$14B</td>-->
<!--        <td>$30.00</td>-->
<!--        <td>+2.20%</td>-->
<!--      </tr>-->
<!--    </table>-->


{% endblock %}